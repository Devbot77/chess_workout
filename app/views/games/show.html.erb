<%= javascript_tag do %>
  window.userID = "<%= current_user.id %>"
  window.whiteID = "<%= @game.white_player_id %>"
  window.blackID = "<%= @game.black_player_id %>"
  window.game = "<%= refresh_game_path %>"
<% end %>
<br />
<h1><%= "Game ID: #{@game.id}, Turn: #{@game.turn}" %></h1>
<br />
<div class="gameboard col-xs-6">
  <%= render 'gameboard' %>
</div>

<div class="col-xs-12 col-md-6">
  <div class="moves_record">
      <h5>Moves Record</h5>
      <ol reversed id="moves"></ol>
  </div>

  <div class="capture_box">
    <h5>Captured</h5>
    <div class="white_capture_box">
      <span id="white_captured">
        <% @game.pieces.where(:captured => true, :color => "white").each do |piece| %>
          <div class="piece <%= piece.color %>_piece" id="<%= piece.color %>-<%= piece.type %>" data-piece-url="<%= piece_path(piece) %>">
            <strong><%= piece.type %></strong>
          </div>
        <% end %>
      </span>
    </div>
    <br />
    <div class="black_capture_box">
      <span id="dark_captured">
        <% @game.pieces.where(:captured => true, :color => "black").each do |piece| %>
          <div class="piece <%= piece.color %>_piece" id="<%= piece.color %>-<%= piece.type %>" data-piece-url="<%= piece_path(piece) %>">
            <strong><%= piece.type %></strong>
          </div>
        <% end %>
      </span>
    </div>
    <br />
  </div>
</div>
<br />
<button id="reverse_view" class="btn btn-primary">Reverse View</button>
